# How to update port
First follow the steps for fully checking out the source code and a build environment from ANGLE's own instructions: [GitHub.com/google/angle.git/doc/DevSetup.md](https://github.com/google/angle/blob/main/doc/DevSetup.md)

Then fetch the following variables by doing the specified actions and replace them in the portfile:
| Variable / location | Variable explanation | Action |
| -------------------------- | -------------------- | ------ |
| `ANGLE_COMMIT` | The current source commit hash | In checked out source code: run `git rev-parse HEAD` |
| `ANGLE_COMMIT_DATE` | The date of the last commit | In checked out source code: run `git show -s --format="%ci" HEAD` |
| `ANGLE_COMMIT_POSITION` | The commit count | In checked out source code: run `git rev-list HEAD --count` |
| `checkout_dependencies(...)` | Dependencies parsed from the DEPS file | In checked out source code, using powershell: run `py path/to/depot_tools/gclient.py recurse --no-progress -j1 powershell -Command parse-dep-info-for-current-directory.ps1`
| `message(WARNING "${PORT} currently requires the following libraries...` | External linux dependencies | In checked out source code, find the dependencies by reading/parsing `build/install-build-deps.py` |
| `res/LASTChange.committime` file | A file specifying the unix time of the "last" commit | In a checked out source repo: Found in `build/util/LASTCHANGE.committime`, or generated by doing `build/util/lastchange.py -o build/util/LASTCHANGE` |
| `ANGLE_SHA512` | The SHA512 hash of the source code | Build the package after updating variables, see the warning about mismatched source hashes and replace the hash with the new one. |
